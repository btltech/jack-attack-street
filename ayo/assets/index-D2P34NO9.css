*,*:before,*:after{box-sizing:border-box}:root{--bg-color: #f5f0e1;--text-color: #2c1810;--board-bg: #4a2c20;--board-border: #2a1610;--player-a-color: #d97706;--player-b-color: #78716c;--highlight-color: #fff8dc;--pit-bg: #150a08;--accent-green: #008751;--accent-gold: #fbbf24}body{margin:0;font-family:system-ui,-apple-system,sans-serif;background-color:var(--bg-color);color:var(--text-color);display:flex;justify-content:center;min-height:100vh;padding-bottom:100px;background-image:linear-gradient(45deg,rgba(0,135,81,.05) 25%,transparent 25%,transparent 75%,rgba(0,135,81,.05) 75%,rgba(0,135,81,.05)),linear-gradient(45deg,rgba(0,135,81,.05) 25%,transparent 25%,transparent 75%,rgba(0,135,81,.05) 75%,rgba(0,135,81,.05));background-position:0 0,10px 10px;background-size:20px 20px}.game-container{width:100%;max-width:1000px;padding:20px;display:flex;flex-direction:column;align-items:center}h1{color:var(--accent-green);margin-top:10px;margin-bottom:5px;text-align:center;font-size:3rem;line-height:1.2;text-shadow:2px 2px 0px rgba(0,0,0,.1);font-family:Georgia,serif;letter-spacing:-1px}.subtitle{text-align:center;color:#5c4033;font-style:italic;margin-top:0;margin-bottom:25px;font-size:1.1rem;padding:0 10px 5px;border-bottom:2px solid var(--accent-green);display:inline-block}.view-toggle-btn{position:fixed;bottom:20px;right:20px;background:var(--board-bg);color:var(--highlight-color);border:2px solid var(--accent-gold);padding:10px 20px;border-radius:30px;font-weight:700;cursor:pointer;box-shadow:0 4px 10px #0000004d;z-index:1000;transition:all .2s;display:flex;align-items:center;gap:8px}.view-toggle-btn:hover{transform:translateY(-2px);box-shadow:0 6px 15px #0006;background:#5d4037}.view-toggle-btn.active{background:var(--accent-green);border-color:var(--accent-green)}.tutorial-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#2c1810e6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:200;display:flex;justify-content:center;align-items:center;padding:20px}.tutorial-card{background:#fffbf0;padding:30px;border-radius:8px;box-shadow:0 25px 50px -12px #00000080;max-width:500px;width:100%;border:4px solid var(--accent-green);display:flex;flex-direction:column;max-height:90vh;overflow-y:auto}.tutorial-title{color:var(--accent-green);font-size:1.8rem;margin-top:0;margin-bottom:15px;font-family:Georgia,serif;text-align:center}.tutorial-content{font-size:1.1rem;line-height:1.6;color:var(--text-color);margin-bottom:25px;min-height:120px;display:flex;align-items:center}.tutorial-progress{font-size:.8rem;color:#78716c;margin-bottom:15px;text-transform:uppercase;letter-spacing:1px}.progress-bar{height:6px;background:#e5e7eb;border-radius:3px;margin-top:5px;overflow:hidden}.progress-fill{height:100%;background:var(--accent-green);transition:width .3s ease}.tutorial-controls{display:flex;justify-content:space-between;gap:15px;margin-top:auto}.tutorial-btn{padding:12px 24px;border:none;border-radius:4px;font-weight:700;cursor:pointer;font-size:1rem;transition:all .2s}.tutorial-btn.primary{background:var(--accent-green);color:#fff;flex:2}.tutorial-btn.primary:hover{background:#006e42}.tutorial-btn.secondary{background:transparent;border:1px solid #d6d3d1;color:#78716c;flex:1}.tutorial-btn.secondary:disabled{opacity:.3;cursor:not-allowed}.tutorial-close-text{background:none;border:none;color:#78716c;margin-top:15px;cursor:pointer;text-decoration:underline;font-size:.9rem;align-self:center}.menu-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#2c1810d9;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:100;display:flex;justify-content:center;align-items:center;padding:20px}.menu-card{background:#fffbf0;padding:40px;border-radius:4px;box-shadow:0 25px 50px -12px #00000080;text-align:center;max-width:400px;width:100%;border:8px solid var(--accent-green);outline:4px dashed var(--accent-gold);outline-offset:-14px;max-height:90vh;overflow-y:auto}.menu-title{font-size:2.5rem;color:var(--text-color);margin-bottom:20px;font-family:Georgia,serif}.menu-section{margin-bottom:24px}.menu-label{display:block;font-weight:700;margin-bottom:10px;color:var(--accent-green);text-transform:uppercase;letter-spacing:1px}.btn-group{display:flex;justify-content:center;gap:10px;flex-wrap:wrap}.menu-btn{padding:12px 24px;border:2px solid #e5e7eb;background:#fff;border-radius:4px;cursor:pointer;font-weight:600;transition:all .2s;font-family:monospace;font-size:1rem}.menu-btn.selected{background-color:var(--accent-green);color:#fff;border-color:var(--accent-green);box-shadow:0 4px 6px #0000001a}.start-btn{width:100%;padding:16px;background-color:var(--board-border);background-image:linear-gradient(to right,var(--board-border),#3e2723);color:#fff;border:none;border-radius:4px;font-size:1.2rem;font-weight:700;cursor:pointer;transition:transform .2s;margin-top:15px;text-transform:uppercase;letter-spacing:1px;box-shadow:0 4px #1a0f0d}.start-btn:active{transform:translateY(4px);box-shadow:none}.score-panel{display:flex;gap:20px;margin-bottom:25px;width:100%;justify-content:center}.player-card{background:#fff;border:2px solid #d6d3d1;border-radius:8px;padding:15px;flex:1;text-align:center;max-width:180px;transition:all .3s ease;position:relative;overflow:hidden}.player-card:after{content:"";position:absolute;bottom:0;left:0;right:0;height:4px;background:var(--player-b-color)}.player-card:last-child:after{background:var(--player-a-color)}.player-card.active{border-color:var(--accent-green);background-color:#f0fdf4;transform:scale(1.05);box-shadow:0 10px 15px -3px #0000001a}.player-name{font-size:.9rem;font-weight:700;color:#57534e;margin-bottom:5px;text-transform:uppercase;letter-spacing:.5px}.player-score{font-size:2.2rem;font-weight:900;line-height:1;color:var(--text-color)}.status-bar{background:#fff;padding:12px 24px;border-radius:4px;font-weight:600;margin-bottom:30px;box-shadow:0 4px 6px -1px #0000001a;display:flex;align-items:center;gap:10px;text-align:center;justify-content:center;max-width:100%;border-left:5px solid var(--accent-green)}.status-bar.error{background-color:#fee2e2;color:#991b1b;border-left-color:#ef4444}.status-bar.game-over{background-color:#ecfdf5;color:#065f46;border-left-color:#10b981}.board-perspective-container{margin-bottom:20px;transition:all .5s ease}.board-wrapper{background-color:var(--board-bg);padding:35px 25px;border-radius:50px;display:flex;flex-direction:column;align-items:center;border:12px solid #3e2723;box-shadow:0 20px 40px #0009,inset 0 0 50px #000c,inset 2px 2px 5px #ffffff26;transform-style:preserve-3d;transition:transform .6s cubic-bezier(.4,0,.2,1),box-shadow .6s;width:auto;max-width:100%;position:relative;background-image:url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' opacity='0.5'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.2'/%3E%3C/svg%3E"),linear-gradient(135deg,#3e2723f2,#2e1c18fa)}.board-wrapper.view-3d{box-shadow:0 60px 100px #000c,0 30px 40px #00000080,inset 0 0 60px #000000e6,inset 2px 2px 5px #ffffff26;transform:translateY(-10px)}.board-wrapper.view-3d .player-row:first-child{transform:scale(.85) translateY(8px);opacity:.92;filter:brightness(.95)}.board-wrapper.view-3d .player-row:last-child{transform:scale(1.08) translateY(-8px);filter:brightness(1.05)}.board-wrapper.view-3d .gutter{height:35px;background:linear-gradient(to bottom,#0000004d,#0000001a)}.board-wrapper.view-3d .seed{box-shadow:0 4px 4px #0009}.board-wrapper.view-3d .player-row:first-child .pit{box-shadow:inset 0 25px 30px -5px #000,inset 0 0 40px 10px #000000f2}.board-wrapper.view-3d .player-row:last-child .pit{box-shadow:inset 0 40px 50px -5px #000,inset 0 0 60px 20px #000000f2,0 2px #ffffff26}.board-wrapper.view-3d .pit{cursor:pointer}.board-wrapper:before{content:"";position:absolute;top:10px;left:50px;right:50px;bottom:10px;border-radius:40px;border:2px dashed rgba(255,255,255,.1);pointer-events:none}.player-row{display:flex;justify-content:center;gap:15px;padding:15px;border-radius:40px;background-color:#0003;box-shadow:inset 0 2px 10px #00000080,0 1px #ffffff0d;transition:background-color .3s;max-width:100%}.player-row.active{background-color:#0000001a;box-shadow:inset 0 2px 10px #0006}.gutter{height:25px}.pit-container{display:flex;flex-direction:column;align-items:center;position:relative}.pit{width:100px;height:100px;border-radius:50%;background-color:var(--pit-bg);background-image:radial-gradient(circle at 50% 30%,#2a1810 10%,#000 85%);box-shadow:inset 0 35px 40px -5px #000,inset 0 0 50px 15px #000000f2,inset 0 5px 10px #000000e6,0 1px #ffffff1a,0 -2px 4px #00000080;display:flex;align-items:center;justify-content:center;position:relative;transition:all .2s ease;overflow:hidden;border:1px solid rgba(0,0,0,.6);pointer-events:auto;cursor:pointer}.pit.clickable{cursor:pointer;border-color:#fff3}.pit.clickable:hover{transform:scale(1.05);box-shadow:inset 0 30px 40px -5px #000,0 0 0 2px var(--accent-gold)}.pit.disabled{cursor:default;opacity:.9}.pit.last-move:after{content:"";position:absolute;top:2px;left:2px;right:2px;bottom:2px;border-radius:50%;border:2px dashed var(--accent-gold);animation:spin 8s linear infinite;pointer-events:none;opacity:.7}.pit.selected{box-shadow:0 0 0 3px var(--player-a-color)}@keyframes spin{to{transform:rotate(360deg)}}.pit-label{font-size:.75rem;margin-top:8px;color:#fff6;font-weight:700;font-family:monospace}.seed-wrapper{position:absolute;top:12px;right:12px;bottom:12px;left:12px;display:flex;flex-wrap:wrap;justify-content:center;align-content:center;pointer-events:none}.seed{width:7px;height:7px;background-color:#a8a29e;border-radius:40% 60% 50% 50%/50% 50% 60% 40%;margin:.5px;box-shadow:.5px .5px 1px #00000080;background:radial-gradient(circle at 30% 30%,#e7e5e4,#57534e)}.seed:nth-child(2n){border-radius:60% 40% 30% 70%/60% 30% 70% 40%;width:8px;height:6px}.seed:nth-child(3n){border-radius:30% 70% 70% 30%/30% 30% 70% 70%;width:6px;height:8px;background-color:#9ca3af}.seed:nth-child(4n){width:5px;height:6px;border-radius:50%}.seed:nth-child(5n){border-radius:45%;width:7px;height:7px}.seed-count{font-size:1.4rem;font-weight:900;z-index:5;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,1);position:absolute}.hand-indicator{position:absolute;top:-70px;z-index:10;transition:all .3s cubic-bezier(.175,.885,.32,1.275);filter:drop-shadow(0 15px 10px rgba(0,0,0,.4));animation:hand-bounce .6s ease-in-out infinite}@keyframes hand-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}.restart-btn{margin-top:40px;padding:12px 32px;background-color:var(--board-border);color:#d6d3d1;border:1px solid rgba(255,255,255,.1);border-radius:4px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;box-shadow:0 4px 6px #0000001a;text-transform:uppercase;letter-spacing:1px}.restart-btn:hover{background-color:#2c1810;color:#fff;border-color:var(--accent-green);transform:translateY(-2px)}.restart-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.about-card{margin-top:50px;padding:24px;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a;max-width:600px;text-align:center;border-top:5px solid var(--accent-green);line-height:1.6}.about-card h3{color:var(--board-border);margin-top:0;margin-bottom:12px;font-family:Georgia,serif}.about-card p{color:#44403c;margin:0}@keyframes ripple-effect{0%{transform:scale(1);opacity:.8;border-width:4px;border-color:var(--accent-gold)}to{transform:scale(1.6);opacity:0;border-width:0px;border-color:var(--accent-gold)}}.animate-ripple{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:50%;border-style:solid;pointer-events:none;animation:ripple-effect .5s ease-out forwards;z-index:4}@media(max-width:600px){.game-container{padding:10px}.board-wrapper{padding:20px 10px;border-width:8px;border-radius:30px}.board-wrapper:before{display:none}.pit{width:13vw;height:13vw;max-width:55px;max-height:55px;min-width:35px;min-height:35px}.seed{width:7px;height:7px}.player-row{padding:10px 5px;gap:6px;border-radius:25px}.score-panel{gap:10px}h1{font-size:2rem}}.analysis-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000d9;display:flex;justify-content:center;align-items:center;z-index:2000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeIn .3s ease-out}.analysis-card{background:var(--card-bg);padding:2rem;border-radius:20px;border:2px solid var(--accent-gold);width:90%;max-width:500px;text-align:center;box-shadow:0 20px 50px #00000080;color:var(--text-primary)}.chart-container{background:#0000004d;border-radius:10px;padding:1rem;margin:1.5rem 0;height:200px;position:relative}.chart-labels{display:flex;justify-content:space-between;font-size:.8rem;color:var(--text-secondary);margin-top:.5rem}.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem}.stat-box{background:#ffffff0d;padding:1rem;border-radius:10px;display:flex;flex-direction:column;gap:.5rem}.stat-label{font-size:.9rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px}.stat-value{font-size:1.5rem;font-weight:700;color:var(--accent-gold)}.action-buttons{display:flex;flex-direction:column;gap:.8rem}.name-input{width:100%;padding:10px;border:2px solid var(--board-border);border-radius:8px;background:#ffffffe6;font-size:1rem;color:var(--text-color)}.name-input:focus{outline:none;border-color:var(--accent-green);box-shadow:0 0 0 3px #00875133}@media(max-width:768px){.game-container{padding:10px}h1{font-size:2rem}.board-wrapper{padding:20px 10px;border-width:8px}.pit{width:60px;height:60px}.player-row{gap:8px;padding:10px}.seed{width:6px;height:6px}}@media(max-width:480px){h1{font-size:1.8rem;margin-bottom:5px}.subtitle{font-size:.9rem;margin-bottom:15px}.score-panel{gap:10px;margin-bottom:15px}.player-card{padding:10px}.player-score{font-size:1.5rem}.board-wrapper{padding:15px 5px;border-radius:30px}.pit{width:42px;height:42px;box-shadow:inset 0 15px 20px -5px #000,inset 0 0 20px 5px #000000f2,inset 0 2px 5px #000000e6,0 1px #ffffff1a,0 -1px 2px #00000080}.player-row{gap:4px;padding:8px;border-radius:25px}.gutter{height:15px}.seed{width:5px;height:5px;margin:0}.view-toggle-btn{bottom:10px;right:10px;padding:8px 16px;font-size:.9rem}.menu-card{padding:20px;max-width:90%}.menu-title{font-size:2rem}}
